# Git ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

## ãƒ–ãƒ©ãƒ³ãƒåŸºæœ¬æ–¹é‡

- ç›´ push ã¯ feature ãƒ–ãƒ©ãƒ³ãƒã®ã¿ã¨ã™ã‚‹
- æ–°æ©Ÿèƒ½é–‹ç™ºã‚„ä¿®æ­£ãªã©ã€ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã¯ feature ãƒ–ãƒ©ãƒ³ãƒã®ã¿ã¨ã™ã‚‹
- ç’°å¢ƒãƒ–ãƒ©ãƒ³ãƒï¼ˆé–‹ç™ºã€æ¤œè¨¼ï¼‰ã¯ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ï¼ˆ*æœ¬ç•ªç’°å¢ƒã¯ Ops ã«ã‚ˆã‚‹æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰

## ãƒ–ãƒ©ãƒ³ãƒç¨®é¡ã¨ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

| ãƒ–ãƒ©ãƒ³ãƒå           | ç”¨é€”                          | èª¬æ˜                                              | ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«       | æ´¾ç”Ÿå…ƒ  | CI/CD å¯¾å¿œ |
| :------------------: | :---------------------------: | :----------------------------------------------: | :-----------------: | :----: | :--------: |
| main                 | æœ¬ç•ªç’°å¢ƒ                       | develop ãƒ–ãƒ©ãƒ³ãƒã§å®‰å®šã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ main ã«ãƒãƒ¼ã‚¸ã™ã‚‹| æ°¸ç¶š                | -      | âœ”         |
| develop              | é–‹ç™ºç’°å¢ƒ                      | feature ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒãƒ¼ã‚¸ã•ã›ã¦ç¢ºèªã™ã‚‹              | æ°¸ç¶š                | main   | âœ”         |
| feature/{Issue No}   | æ©Ÿèƒ½é–‹ç™ºç”¨                    | å€‹åˆ¥æ©Ÿèƒ½é–‹ç™ºç”¨ã®ãƒ–ãƒ©ãƒ³ãƒ                            | æ©Ÿèƒ½é–‹ç™ºå®Œäº†ã¾ã§    | develop | âœ”         |
| env/{Env Name}       | æ¤œè¨¼ç’°å¢ƒã€å€‹åˆ¥ç’°å¢ƒ             | uat, in-validation, ex-validation, qa ãªã©ã®ç’°å¢ƒ  | æ¤œè¨¼å®Œäº†ã¾ã§        | develop | âœ–         |

## Pull Request

PR ã«é©åˆ‡ãªãƒ©ãƒ™ãƒ«ã‚’è¨­å®šã—ã€[è‡ªå‹•ç”Ÿæˆãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ - GitHub Docs](https://docs.github.com/ja/repositories/releasing-projects-on-github/automatically-generated-release-notes) ã§åˆ©ç”¨ã§ãã‚‹ `.github/release.yml` ã‚’è¨­å®šã—ã€ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã€‚

## Release & Tags

### Tag

- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚¿ã‚°ã‚’ç™ºè¡Œã™ã‚‹
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã®ç™ºè¡Œã¯ã€GitHubã®ãƒªãƒªãƒ¼ã‚¹æ©Ÿèƒ½ã®UIã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã¨ã™ã‚‹
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã¯[ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°](https://semver.org/lang/ja/)ã«å¾“ã† (ä¾‹: `v1.2.4`)

ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã¯ã€ä»¥ä¸‹ã®å½¢å¼ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

`**vX.Y.Z**`

- `X`: ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆå¤§ããªæ©Ÿèƒ½è¿½åŠ ã€éäº’æ›å¤‰æ›´ï¼‰
- `Y`: ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆå¾Œæ–¹äº’æ›ã®ã‚ã‚‹æ–°æ©Ÿèƒ½è¿½åŠ ï¼‰
- `Z`: ãƒ‘ãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆãƒã‚°ä¿®æ­£ã‚„å°è¦æ¨¡æ”¹å–„ï¼‰

>[!CAUTION]
>ãƒªãƒªãƒ¼ã‚¹å¾Œã€ä¿®æ­£ãŒç™ºç”Ÿã—ãŸå ´åˆã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚°ã‚’ä½œæˆã—ã¾ã™ï¼ˆä¾‹: v1.2.1ï¼‰ã€‚

### Release

Release Note ã¯ã€[Generate release note] ã§ä½œæˆã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã¨ã™ã‚‹

>[!NOTE]
>[Generate release note] ã¯ã€Pull Request ã®ãƒ©ãƒ™ãƒ«ã¨å†…å®¹ãŒåæ˜ ã•ã‚Œã‚‹ã®ã§ã€Pull Request ã‚’é©åˆ‡ã«é‹ç”¨ã™ã‚‹ã“ã¨

```release.yml
# Automatic release notes configuration
changelog:
  categories:
    - title: "âœ¨ New Features"
      labels:
        - "feature"
        - "enhancement"
    - title: "ğŸ› Bug Fixes"
      labels:
        - "bug"
        - "fix"
    - title: "ğŸ›  Improvements & Maintenance"
      labels:
        - "refactor"
        - "maintenance"
        - "chore"
    - title: "ğŸ“– Documentation Updates"
      labels:
        - "documentation"
        - "docs"
    - title: "âš¡ï¸ Performance Improvements"
      labels:
        - "performance"
    - title: "ğŸ“¦ Dependency Updates"
      labels:
        - "dependencies"
    - title: "Other Changes"
      labels:
        - "*"
```

## é–‹ç™ºï½ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼

### é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

1. **Feature Issue ä½œæˆ**  
   é–‹ç™ºãŒç¢ºå®šã—ãŸæ©Ÿèƒ½ã«ã¤ã„ã¦ GitLab ä¸Šã§ Issue ã‚’ä½œæˆã™ã‚‹ã€‚

2. **feature ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**  
   Feature Issue ã‹ã‚‰ [Create a branch] ã‚’æŠ¼ä¸‹ã—ã€`develop` ã‹ã‚‰ `feature/*` ã‚’ä½œæˆã€‚

3. **æ©Ÿèƒ½é–‹ç™º**  
   ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å¤‰æ›´å¾Œã€`feature/*` ãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã€‚

4. **ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ (Pull Request)**  
   é–‹ç™ºå®Œäº†å¾Œã€`feature/*` ã‹ã‚‰ `develop` ã¸ã® Merge Request (Pull Request) ã‚’ä½œæˆã—ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä¾é ¼ã€‚

5. **ãƒãƒ¼ã‚¸**  
   ãƒ¬ãƒ“ãƒ¥ãƒ¼é€šéå¾Œã€`develop` ãƒ–ãƒ©ãƒ³ãƒã¸ãƒãƒ¼ã‚¸ã€‚

6. **Issue ã‚¯ãƒ­ãƒ¼ã‚º**  
   Pull Request ãƒãƒ¼ã‚¸æ™‚ã€é–¢é€£ã™ã‚‹ Issue ã‚’ã‚¯ãƒ­ãƒ¼ã‚ºã€‚

7. **feature ãƒ–ãƒ©ãƒ³ãƒå‰Šé™¤**  
   Merge å®Œäº†å¾Œã€`feature/*` ãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤ã€‚

### æ¤œè¨¼ï½ãƒªãƒªãƒ¼ã‚¹ãƒ•ã‚§ãƒ¼ã‚º

1. **æ¤œè¨¼ç’°å¢ƒãƒ–ãƒ©ãƒ³ãƒä½œæˆ**  
   æ¤œè¨¼é–‹å§‹æ™‚ã€`develop` ã‹ã‚‰ `env/uat` / `env/in-validation` / `env/ex-validation` ã‚’ä½œæˆã—ã€å„ç’°å¢ƒã§æ¤œè¨¼ã‚’è¡Œã†ã€‚

2. **ä¿®æ­£å¯¾å¿œ**  
   æ¤œè¨¼ä¸­ã«ä¿®æ­£ãŒç™ºç”Ÿã—ãŸå ´åˆã¯å†åº¦ `feature` ãƒ–ãƒ©ãƒ³ãƒã§ä¿®æ­£ã—ã€`develop` ã¸ãƒãƒ¼ã‚¸å¾Œã€è©²å½“æ¤œè¨¼ãƒ–ãƒ©ãƒ³ãƒã¸åæ˜ ã€‚

3. **ãƒªãƒªãƒ¼ã‚¹**  
   æ¤œè¨¼ãŒå®Œäº†ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ã€`main` ã«åæ˜ ã‚’å®Œäº†ã•ã›ã‚‹ã€‚ã‚¿ã‚°ã‚’ä»˜ã‘ã€GitHub Release ã‚’ç™ºè¡Œã™ã‚‹ã€‚ãã®å¾Œã€Ops ã«ã‚ˆã‚Šæœ¬ç•ªç’°å¢ƒã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°

| ãƒ†ã‚¹ãƒˆã‚µã‚¤ã‚º      | ç·å®Ÿè¡Œæ™‚é–“ | å®Ÿè¡Œè€… | ã‚¿ã‚¤ãƒŸãƒ³ã‚°         | æ¦‚è¦                                         |
| ----------------- | ---------- | ------ | ------------------ | -------------------------------------------- |
| Smallãƒ†ã‚¹ãƒˆ       | 1åˆ†ä»¥ä¸‹    | äºº/CI  | ã™ã¹ã¦ã®ãƒ“ãƒ«ãƒ‰æ™‚   | ã‚³ãƒ¼ãƒ‰å˜ç‹¬ã®å˜ä½“ãƒ†ã‚¹ãƒˆ                       |
| Mediumãƒ†ã‚¹ãƒˆ      | 5åˆ†ä»¥ä¸‹    | CI     | Pushæ™‚             | DB ç­‰ã‚’å«ã‚€ãƒ¦ãƒ‹ãƒƒãƒˆ/çµåˆãƒ†ã‚¹ãƒˆ                |
| Largeãƒ†ã‚¹ãƒˆ       | 15åˆ†ä»¥ä¸‹   | CI     | Pull Request æ™‚     | E2E ãƒ†ã‚¹ãƒˆï¼ˆä¸€æ™‚çš„ãªã‚³ãƒ³ãƒ†ãƒŠç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰ |
| Enormousãƒ†ã‚¹ãƒˆ    | 1æ™‚é–“ä»¥ä¸‹  | CI     | Daily (æ—¥æ¬¡å®Ÿè¡Œ)   | STG ç­‰å…±ç”¨ç’°å¢ƒã§ã®å¤§è¦æ¨¡ E2E ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ |

## ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

[Semantic Commit Message](https://gist.github.com/joshbuchea/6f47e86d2510bce28f8e7f42ae84c716) ã«å¾“ã„ã¾ã™ã€‚  
`Conventional Commits` ã‚’æ¨å¥¨ã—ã€VS Code æ‹¡å¼µæ©Ÿèƒ½ç­‰ã‚’æ´»ç”¨ã—ã¾ã™ã€‚

| ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ | èª¬æ˜                               |
| -------------- | ---------------------------------- |
| feat:          | æ–°æ©Ÿèƒ½                             |
| fix:           | ãƒã‚°ä¿®æ­£                           |
| docs:          | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿ã®å¤‰æ›´             |
| style:         | æ©Ÿèƒ½å½±éŸ¿ãªã—ã®ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´   |
| refactor:      | ãƒã‚°ä¿®æ­£ãƒ»æ–°æ©Ÿèƒ½ä»¥å¤–ã®ã‚³ãƒ¼ãƒ‰æ”¹å–„   |
| perf:          | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„                 |
| test:          | ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£                   |
| chore:         | ãƒ„ãƒ¼ãƒ«ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€è£œåŠ©çš„å¤‰æ›´     |

## FAQ

### release-branch ã¯ä¸è¦ãªã®ã‹ï¼Ÿ

æœ¬ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯å¸¸ã«æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå±•é–‹ã•ã‚Œã€æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¶­æŒã‚’æƒ³å®šã—ã¦ã„ãªã„ãŸã‚ã€`release-branch` ã¯ä¸è¦ã§ã™ã€‚

### hotfix-branch ã¯ä¸è¦ãªã®ã‹ï¼Ÿ

ç·Šæ€¥ä¿®æ­£ã‚‚åŒæ§˜ã« `feature` ãƒ–ãƒ©ãƒ³ãƒã§è¡Œã„ã€å³æ ¼ãªãƒ•ãƒ­ãƒ¼ã«å‰‡ã£ã¦å“è³ªã‚’ç¢ºä¿ã—ã¾ã™ã€‚

## å‚è€ƒè³‡æ–™

### Git é‹ç”¨ã«é–¢ã™ã‚‹è³‡æ–™

- [GitLab Flowã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](https://about.gitlab.com/ja-jp/topics/version-control/what-are-gitlab-flow-best-practices/)
- [GitLab flowã‹ã‚‰å­¦ã¶ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè·µ](https://postd.cc/gitlab-flow/)
- [GitLab Flow + GitHub Actions ã§ã¯ã˜ã‚ã‚‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼ã®æ”¹å–„ãƒ»è‡ªå‹•åŒ–](https://techblog.exawizards.com/entry/2021/01/21/111031)
- [Combine GitLab Flow and GitLab Duo for a workflow powerhouse](https://about.gitlab.com/blog/2023/07/27/gitlab-flow-duo/)
- [Gitãƒ–ãƒ©ãƒ³ãƒãƒ•ãƒ­ãƒ¼è¦ç´„ | Future Enterprise Coding Standards](https://future-architect.github.io/coding-standards/documents/forGitBranch/git_branch_standards.html)

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«é–¢ã™ã‚‹è³‡æ–™

- [ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„ã€ŒConventional Commitsã€ã‚’å°å…¥ã—ã¦ã¿ã‚ˆã†ï¼](https://speakerdeck.com/cocoeyes02/lets-use-conventional-commits)
- [è‰¯ã„ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ«ãƒ¼ãƒ«ãƒ¡ãƒ¢](https://zenn.dev/shotaro/articles/idea-git-commit-massage)
- [Gitã®ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ›¸ãæ–¹ï¼ˆ2023å¹´ver.ï¼‰](https://zenn.dev/itosho/articles/git-commit-message-2023)

### ãƒ†ã‚¹ãƒˆã«é–¢ã™ã‚‹è³‡æ–™

- [ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã£ã¦ã‚‚ã†è¨€ã‚ãªã„ï¼ CI/CDæ™‚ä»£ã®ãƒ†ã‚¹ãƒˆåˆ†é¡ã«æœ€é©ãªãƒ†ã‚¹ãƒˆã‚µã‚¤ã‚ºã¨ã„ã†è€ƒãˆæ–¹](https://zenn.dev/koduki/articles/e0f8824adbe0e9)
